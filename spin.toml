spin_manifest_version = 2

[application]
name = "authorworks-platform"
version = "1.0.0"
authors = ["AuthorWorks Team"]
description = "AI-assisted content creation platform - Spin WebAssembly deployment"

[variables]
database_url = { required = true, secret = true }
redis_url = { required = true, secret = true }
minio_endpoint = { default = "http://minio:9000" }
minio_access_key = { required = true, secret = true }
minio_secret_key = { required = true, secret = true }
allowed_origins = { default = "https://author.works" }
log_level = { default = "info" }
jwt_secret = { required = true, secret = true }

# Note: Individual service components have been removed.
# Service repositories have been archived and consolidated into the main repository
# and authorworks-engine submodule.
#
# Spin/WASM deployment configuration should be updated to use the consolidated
# architecture. See authorworks-engine for specifications and core functionality.
#
# Previous service components (user-service, content-service, storage-service,
# editor-service, messaging-service, discovery-service) have been removed.
#
# UI Shell Static Files
[[trigger.http]]
route = "/..."
component = "ui-shell"

[component.ui-shell]
source = { url = "https://github.com/fermyon/spin-fileserver/releases/download/v0.3.0/spin_static_fs.wasm", digest = "sha256:ef88708817e107bf49985c7cefe4dd1f199bf26f6727819183d5c996baa3d148" }
# Note: UI assets should be built and placed in a dist/ directory
# files = [{ source = "dist", destination = "/" }]
