apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: authorworks

resources:
  - namespace.yaml
  # secrets.yaml excluded - managed via SealedSecrets
  # logto.yaml excluded - Logto managed by separate cluster service
  - ingress.yaml

labels:
- pairs:
    app: authorworks
    managed-by: kustomize

configMapGenerator:
  - name: authorworks-config
    literals:
      - LOG_LEVEL=info
      - LOGTO_ENDPOINT=https://auth.leopaska.xyz
      - LOGTO_REDIRECT_URI=https://author.works/auth/callback

